# ===========================================
# 统一环境变量配置文件
# 整合了所有子目录的.env配置
# ===========================================

# ===========================================
# 应用基础配置
# ===========================================
APP_PORT=8000
ENVIRONMENT=development
DEBUG=false

# ===========================================
# AI API 配置
# ===========================================
DEEPSEEK_API_KEY=sk-c5a6802dfd314e43bdd4e748f4d85970
DEEPSEEK_BASE_URL=https://api.deepseek.com/v1

# OpenAI备用配置
OPENAI_API_KEY=
OPENAI_BASE_URL=https://api.openai.com/v1

# ===========================================
# MCP和第三方服务配置
# ===========================================
MCP_FETCH_SERVER_URL=https://r.jina.ai
SMITHERY_TOKEN=12aa6590-700f-42a0-88f9-ae14c22df9d9
SMITHERY_BASE_URL=https://registry.smithery.ai
SMITHERY_SKIP_TLS=1
SMITHERY_TIMEOUT=60

# ===========================================
# 安全配置
# ===========================================
SECURITY_MASTER_KEY=your-super-secure-master-key-change-in-production-32-chars
JWT_SECRET_KEY=your-jwt-secret-key-change-in-production-please
JWT_ALGORITHM=HS256
JWT_EXPIRATION_HOURS=24

# 登录安全配置
MAX_LOGIN_ATTEMPTS=5
ACCOUNT_LOCKOUT_MINUTES=30

# ===========================================
# 数据库配置
# ===========================================
SECURITY_DB_PATH=security.db
DATABASE_ENCRYPTION_KEY=your-db-encryption-key-here
DB_POOL_SIZE=10

# ===========================================
# 前端配置
# ===========================================
# React开发服务器配置
PORT=3000
SKIP_PREFLIGHT_CHECK=true
GENERATE_SOURCEMAP=false
BROWSER=none
DANGEROUSLY_DISABLE_HOST_CHECK=true
WDS_SOCKET_HOST=localhost

# 前端功能开关
REACT_APP_LOGICWORLD_ENABLED=true
REACT_APP_LOGICWORLD_API_PATH=/api/logicworld

# ===========================================
# API和网络配置
# ===========================================
API_BASE_URL=http://localhost:8000
CORS_ORIGINS=http://localhost:3000,http://127.0.0.1:3000

# 速率限制配置
RATE_LIMIT_REQUESTS_PER_MINUTE=100
RATE_LIMIT_BLOCK_DURATION_SECONDS=300
REQUEST_TIMEOUT_SECONDS=30
MAX_CONCURRENT_REQUESTS=100

# ===========================================
# 邮件服务配置
# ===========================================
SMTP_HOST=smtp.gmail.com
SMTP_PORT=587
SMTP_USERNAME=your-email@gmail.com
SMTP_PASSWORD=your-email-password
SMTP_USE_TLS=true

# ===========================================
# 短信服务配置
# ===========================================
ALIYUN_SMS_ACCESS_KEY_ID=your-access-key-id
ALIYUN_SMS_ACCESS_KEY_SECRET=your-access-key-secret
ALIYUN_SMS_SIGN_NAME=your-sms-sign-name
ALIYUN_SMS_TEMPLATE_CODE=your-template-code

# ===========================================
# 日志配置
# ===========================================
LOG_LEVEL=INFO
LOG_FILE_PATH=logs/security.log
LOG_RETENTION_DAYS=30
VERBOSE_LOGGING=false

# ===========================================
# 监控和告警配置
# ===========================================
ENABLE_SECURITY_MONITORING=true
THREAT_DETECTION_SENSITIVITY=medium
ALERT_EMAIL=admin@yourdomain.com

# ===========================================
# 备份配置
# ===========================================
BACKUP_INTERVAL_HOURS=24
BACKUP_RETENTION_DAYS=7
BACKUP_STORAGE_PATH=backups/

# ===========================================
# 安全功能配置
# ===========================================
FORCE_HTTPS=false
ENABLE_SECURITY_HEADERS=true
CSP_POLICY="default-src 'self'; script-src 'self' 'unsafe-inline'; style-src 'self' 'unsafe-inline'"

# 密钥轮换配置
KEY_ROTATION_INTERVAL_DAYS=90
KEY_HISTORY_RETENTION_COUNT=5

# 会话配置
SESSION_TIMEOUT_MINUTES=30
REMEMBER_ME_DAYS=30

# ===========================================
# 文件上传安全配置
# ===========================================
MAX_FILE_SIZE_MB=10
ALLOWED_FILE_TYPES=image/jpeg,image/png,image/gif,text/plain,application/pdf
FILE_STORAGE_PATH=uploads/

# ===========================================
# IP白名单/黑名单配置
# ===========================================
ADMIN_IP_WHITELIST=127.0.0.1,::1
AUTO_BAN_ENABLED=true
AUTO_BAN_THRESHOLD=5
AUTO_BAN_DURATION_MINUTES=30

# ===========================================
# 审计配置
# ===========================================
ENABLE_AUDIT_LOG=true
AUDIT_LOG_LEVEL=detailed
AUDIT_LOG_RETENTION_DAYS=90

# ===========================================
# 特殊功能配置
# ===========================================
ENABLE_2FA=false
ENABLE_DEVICE_FINGERPRINTING=false
ENABLE_GEO_VALIDATION=false
